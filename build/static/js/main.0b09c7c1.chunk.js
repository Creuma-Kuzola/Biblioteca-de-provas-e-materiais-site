(this["webpackJsonpdojo-blog"]=this["webpackJsonpdojo-blog"]||[]).push([[0],{23:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(13),r=n.n(s),i=(n(23),n(6)),o=n.n(i),l=n(9),u=n(2),j=n(3),m=n(12),d=n(0),b=function(){return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsxs)("h1",{className:"header-title",children:["Bibliotecas de Provas ",Object(d.jsx)("span",{className:"span-text-title",children:"UCAN"})]}),Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.a,{exact:!0,path:"/biblioteca-de-provas-e-materiais-site",children:Object(d.jsx)(m.b,{to:"/biblioteca-de-provas-e-materiais-site/contribute",className:"contribute-link",children:"Contribua"})}),Object(d.jsx)(j.a,{exact:!0,path:"/biblioteca-de-provas-e-materiais-site/contribute",children:Object(d.jsx)(m.b,{to:"/biblioteca-de-provas-e-materiais-site",className:"contribute-link",children:"Voltar"})})]})]})},O=function(e){var t=e.handleSearch,n=e.handleActualCourseChange,a=e.handleActualSubjectChange,s=e.handleActualDocumentType,r=e.actualCourse,i=(e.actualSubject,e.actualDocumentType,e.allCoursesStructure),j=Object(c.useState)(""),m=Object(u.a)(j,2),b=m[0],O=m[1],h=Object(c.useState)(""),v=Object(u.a)(h,2),p=v[0],f=v[1],x=Object(c.useState)([]),g=Object(u.a)(x,2),y=g[0],N=g[1],S=Object(c.useState)([]),k=Object(u.a)(S,2),C=k[0],w=k[1],E=Object(c.useState)([]),A=Object(u.a)(E,2),I=A[0],T=A[1],B=Object(c.useState)([]),D=Object(u.a)(B,2),F=D[0],P=D[1],q=Object(c.useState)({}),R=Object(u.a)(q,2),_=(R[0],R[1]),U=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,r,l,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.length>0&&void 0!==u[0]?u[0]:"",u.length>1&&void 0!==u[1]?u[1]:0,u.length>2&&void 0!==u[2]?u[2]:0,0!==(t=Object.keys(i)).length&&(_(i),N(t),c=t[0],r=Object.keys(i[c][c])[0],w(Object.keys(i[c][c])),O(r),l=Object.keys(i[c][c][r])[0],f(l),T(Object.keys(i[c][c][r])),P(Object.keys(i[c][c][r][l])),n(c),a(Object.keys(i[c][c][r][l])[0]),s("Frequ\xeancias"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){U()}),[]),Object(d.jsxs)("div",{className:"search-container",children:[Object(d.jsxs)("div",{className:"search-container--top",children:[Object(d.jsx)("select",{onChange:function(e){n(e.target.value);var t=e.target.value;n(e.target.value),w(Object.keys(i[t][t])),T(Object.keys(i[t][t][b])),P(Object.keys(i[t][t][b][p]))},name:"course",id:"course",className:"search-container--element",children:y.map((function(e){return Object(d.jsx)("option",{value:e,children:e})}))}),Object(d.jsx)("select",{onChange:function(e){var t=e.target.value;O(t),T(Object.keys(i[r][r][t])),P(Object.keys(i[r][r][t][p]))},name:"ano",id:"ano",className:"search-container--element",children:C.map((function(e){return Object(d.jsxs)("option",{value:e,children:[e," \xba Ano"]})}))}),Object(d.jsx)("select",{onChange:function(e){var t=e.target.value;f(t),N(Object.keys(i[r][r][b][t]))},name:"semestre",id:"semestre",className:"search-container--element",children:I.map((function(e){return Object(d.jsxs)("option",{value:e,children:[e," \xba Semestre"]})}))}),Object(d.jsx)("select",{onChange:function(e){a(e.target.value)},name:"subject",id:"subject",className:"search-container--element",children:F.map((function(e){return Object(d.jsx)("option",{value:e,children:e})}))}),Object(d.jsxs)("select",{onChange:function(e){s(e.target.value)},name:"documentType",id:"documentType",className:"search-container--element",children:[Object(d.jsx)("option",{value:"Frequ\xeancias",children:"Frequ\xeancias"}),Object(d.jsx)("option",{value:"Exames",children:"Exames"}),Object(d.jsx)("option",{value:"Recursos",children:"Recursos"})]})]}),Object(d.jsx)("div",{className:"search-container--bottom",children:Object(d.jsx)("button",{onClick:t,className:"search-button",children:"Pesquisar"})})]})},h=function(e){var t=e.assigment,n=e.id,a=e.previewAssigment,s=Object(c.useState)(!1),r=Object(u.a)(s,2);r[0],r[1];return Object(d.jsxs)("div",{className:"assigment-item",children:[Object(d.jsx)("img",{id:"img-"+n,src:t,alt:"",className:"assigment-item-preview"}),Object(d.jsx)("div",{className:"assigment-item-hover-container",children:Object(d.jsxs)("ul",{className:"hover-container-menu",children:[Object(d.jsx)("li",{className:"hover-container-menu--item",children:Object(d.jsx)("img",{src:"./img/fluent_eye-show-24-filled.svg",alt:"View assigment",className:"hover-container-menu--item-img",onClick:function(){a(n)}})}),Object(d.jsx)("a",{href:t,className:"hover-container-menu--item",download:t,children:Object(d.jsx)("img",{src:"./img/akar-icons_download.svg",alt:"Download assigment",className:"hover-container-menu--item-img"})})]})})]})};var v=function(e){var t=e.assigment,n=e.closePreviewAssigment,c=e.nextAssigment,a=e.prevAssigment,s=e.quantAssigments,i=e.actualAssigment;return r.a.createPortal(Object(d.jsx)("div",{id:"assigment-preview-root",children:Object(d.jsxs)("div",{className:"preview-container",children:[Object(d.jsxs)("div",{className:"top-part-preview",children:[Object(d.jsx)("button",{className:"download-button-preview-container",children:"Download"}),Object(d.jsx)("button",{className:"close-button-preview-container",onClick:n,children:"Close"})]}),Object(d.jsxs)("div",{className:"preview-container--main-child",children:[Object(d.jsx)("button",{className:"control-button prev-assigment",onClick:a,children:"<"}),Object(d.jsx)("img",{src:t,alt:"",className:"preview-assigment-img"}),Object(d.jsx)("button",{className:"control-button prev-assigment",onClick:c,children:">"})]}),Object(d.jsxs)("p",{className:"preview-container-counter",children:[i," de ",s," "]})]})}),document.getElementById("preview-root"))},p=function(e){var t=e.assigments,n=e.isPedding,a=Object(c.useState)(0),s=Object(u.a)(a,2),r=s[0],i=s[1],o=Object(c.useState)(!1),l=Object(u.a)(o,2),j=l[0],m=l[1],b=function(e){e=Number(e.replace("assigment-","")),i(e),m(!0)};return Object(d.jsxs)("div",{className:"assigment-container",children:[!n&&t.length>0&&t.map((function(e,t){return Object(d.jsx)(h,{assigment:e,id:"assigment-"+t,previewAssigment:b})})),!n&&0===t.length&&Object(d.jsx)("h2",{className:"no-assigments-text",children:"Sem provas para esta Disciplina"}),n&&Object(d.jsxs)("div",{className:"volume-div",children:[Object(d.jsx)("div",{className:"volume-bar",id:"volume-bar-1"}),Object(d.jsx)("div",{className:"volume-bar",id:"volume-bar-1"}),Object(d.jsx)("div",{className:"volume-bar",id:"volume-bar-1"}),Object(d.jsx)("div",{className:"volume-bar",id:"volume-bar-1"}),Object(d.jsx)("div",{className:"volume-bar",id:"volume-bar-1"}),Object(d.jsx)("div",{className:"volume-bar",id:"volume-bar-1"})]}),j&&Object(d.jsx)(v,{assigment:t[r],closePreviewAssigment:function(){m(!1)},nextAssigment:function(){r+1<t.length&&i(r+1)},prevAssigment:function(){console.log("Prev"),r>0&&i(r-1)},quantAssigments:t.length,actualAssigment:r+1})]})},f=function(e){var t=e.id,n=e.handleDelete,a=e.allCoursesStructure,s=Object(c.useState)([]),r=Object(u.a)(s,2),i=r[0],j=r[1],m=Object(c.useState)([]),b=Object(u.a)(m,2),O=b[0],h=b[1],v=Object(c.useState)([]),p=Object(u.a)(v,2),f=p[0],x=p[1],g=Object(c.useState)([]),y=Object(u.a)(g,2),N=y[0],S=y[1],k=Object(c.useState)([]),C=Object(u.a)(k,2),w=C[0],E=C[1],A=Object(c.useState)(""),I=Object(u.a)(A,2),T=I[0],B=I[1],D=Object(c.useState)(""),F=Object(u.a)(D,2),P=F[0],q=F[1],R=Object(c.useState)(""),_=Object(u.a)(R,2),U=_[0],J=_[1],L=Object(c.useState)(""),V=Object(u.a)(L,2),M=V[0],X=V[1],z=Object(c.useState)(""),G=Object(u.a)(z,2),H=G[0],K=G[1],Q=Object(c.useState)({}),W=Object(u.a)(Q,2),Y=(W[0],W[1]),Z=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0!==(t=Object.keys(a)).length&&(Y(a),j(t),n=t[0],q(n),c=Object.keys(a[n][n])[0],h(Object.keys(a[n][n])),J(c),s=Object.keys(a[n][n][c])[0],X(s),x(Object.keys(a[n][n][c])),K(Object.keys(a[n][n][c][s])[0]),S(Object.keys(a[n][n][c][s])));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(e){document.getElementById("sending-form-loader-container"+e).style.opacity="0",setTimeout((function(){document.getElementById("sending-form-loader-container"+e).style.display="none"}),600)},ee=function(e,t){e.preventDefault(),B("sending"),function(e){document.getElementById("sending-form-loader-container"+e).style.display="flex",document.getElementById("sending-form-loader-container"+e).style.opacity="1"}(t);var c=new FormData,a="".concat(document.getElementById("course").value,",").concat(document.getElementById("year").value,",").concat(document.getElementById("semestre").value,", ").concat(document.getElementById("subject").value,", ").concat(document.getElementById("documentType").value),s=document.getElementById("userEmail").value,r=document.getElementById("files"+t).files;c.append("destFolder",a),c.append("userEmail",s);for(var i=0;i<r.length;i++)c.append("files",r[i]);fetch("https://provas-ucan.herokuapp.com/submission/upload",{method:"POST",body:c}).then((function(e){return e.json()})).then((function(e){console.log("jsnjndsj"),console.log(e),$(t),setTimeout((function(){n(t)}),600)})).catch((function(e){B("error"),console.log("Ola mundo"),setTimeout((function(){$(t)}),600)}))};return Object(c.useEffect)((function(){Z()}),[]),Object(d.jsxs)("form",{id:t,encType:"multipart/form-data",className:"form-container",method:"POST",onSubmit:function(e){ee(e,t)},children:[Object(d.jsx)("span",{className:"delete-button btn-standard",onClick:function(){n(t)},children:"Deletar"}),Object(d.jsx)("h1",{className:"subject-form-name",children:H}),Object(d.jsxs)("div",{className:"form-row-line",children:[Object(d.jsx)("select",{name:"course",id:"course",className:"search-container--element",children:i.map((function(e){return Object(d.jsxs)("option",{value:e,children:[" ",e," "]})}))}),Object(d.jsx)("select",{onChange:function(e){var t=e.target.value;J(t),x(Object.keys(a[P][P][t])),S(Object.keys(a[P][P][t][M]))},name:"year",id:"year",className:"search-container--element",children:O.map((function(e){return Object(d.jsxs)("option",{value:e,children:[" ",e,"\xba Ano"]})}))}),Object(d.jsx)("select",{onChange:function(e){var t=e.target.value;X(t),S(Object.keys(a[P][P][U][t]))},name:"semestre",id:"semestre",className:"search-container--element",children:f.map((function(e){return Object(d.jsxs)("option",{value:e,children:[" ",e,"\xba Semestre "]})}))}),Object(d.jsx)("select",{name:"subject",id:"subject",className:"search-container--element",children:N.map((function(e){return Object(d.jsxs)("option",{value:e,children:[" ",e," "]})}))}),Object(d.jsxs)("select",{name:"documentType",id:"documentType",className:"search-container--element",children:[Object(d.jsx)("option",{value:"Frequ\xeancias",children:"Frequ\xeancias"}),Object(d.jsx)("option",{value:"Exames",children:"Exames"}),Object(d.jsx)("option",{value:"Recursos",children:"Recursos"})]})]}),Object(d.jsxs)("span",{className:"add-more-content btn-standard",children:[Object(d.jsx)("input",{type:"file",name:"files",id:"files"+t,className:"files-input",onChange:function(){!function(e){for(var t=document.getElementById("files"+e).files,n=[],c=0;c<t.length;c++)n.push(t[c]);E(w.concat(n))}(t)},multiple:"true"}),"Adicionar Provas"]}),Object(d.jsx)("input",{type:"email",name:"userEmail",id:"userEmail",placeholder:"example@gmail.com",value:"eufraniodiogo146@gmail.com",className:"input-field-text",hidden:"true"}),Object(d.jsx)("div",{className:"photo-container",children:w.map((function(e,t){return Object(d.jsxs)("div",{className:"individual-file-container",children:[Object(d.jsx)("img",{src:URL.createObjectURL(e),alt:"",className:"file-preview-img"}),Object(d.jsx)("button",{className:"individual-file-container-delete-button",onClick:function(){!function(e){var t=w.filter((function(t,n){return n!==e}));E(t)}(t)},children:"X"})]})}))}),Object(d.jsx)("button",{type:"submit",className:"send-form-submission btn-standard",children:"Enviar"}),Object(d.jsxs)("div",{id:"sending-form-loader-container"+t,className:"sending-form-loader-container",children:["sending"===T&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"loader-spinner"}),Object(d.jsx)("h2",{className:"loader-spinner-text",children:"Enviando..."})]}),"error"===T&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"error-signal-container"}),Object(d.jsx)("h2",{className:"loader-spinner-text error-text",children:"Algum erro aconteceu"})]})]})]})},x=function(e){var t=e.allCoursesStructure,n=Object(c.useState)([]),a=Object(u.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(0),o=Object(u.a)(i,2),l=o[0],j=o[1];function m(e){r(s.filter((function(t){return t.id!==e})))}return Object(d.jsxs)("div",{className:"contribute-container",children:[Object(d.jsx)("img",{src:"./img/undraw_Team_re_0bfe.svg",alt:"Contributers",className:"contributers-ilustration"}),Object(d.jsx)("button",{className:"create-new-form",onClick:function(){if(0!==Object.keys(t).length){var e=s;e.push({formId:"form-"+l,handleDelete:m,allCoursesStructure:t}),r(e),j(l+1)}else alert("Carrengando estrutura de cursos")},children:"Criar Form"}),Object(d.jsx)("div",{className:"contribute-form-container",children:s.map((function(e,t){return Object(d.jsx)(f,{id:e.formId,handleDelete:e.handleDelete,allCoursesStructure:e.allCoursesStructure},t)}))})]})},g=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(u.a)(s,2),i=r[0],h=r[1],v=Object(c.useState)(!0),f=Object(u.a)(v,2),g=f[0],y=f[1],N=Object(c.useState)(""),S=Object(u.a)(N,2),k=S[0],C=S[1],w=Object(c.useState)(""),E=Object(u.a)(w,2),A=E[0],I=E[1],T=Object(c.useState)({}),B=Object(u.a)(T,2),D=B[0],F=B[1],P=Object(c.useState)(!1),q=Object(u.a)(P,2),R=q[0],_=q[1],U=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,fetch("https://provas-ucan.herokuapp.com/courses/".concat(i,"/").concat(k,"/").concat(A));case 3:return t=e.sent,e.next=6,t.json();case 6:t=e.sent.result.filesUrls,a(t),_(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://provas-ucan.herokuapp.com/courses/all");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,F(t.courses),y(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){L()}),[]),Object(d.jsx)(m.a,{children:Object(d.jsxs)("div",{className:"main-app-container",children:[!1===g&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{}),Object(d.jsxs)(j.c,{children:[Object(d.jsxs)(j.a,{exact:!0,path:"/biblioteca-de-provas-e-materiais-site/",children:[Object(d.jsx)(O,{handleActualCourseChange:function(e){h(e)},handleActualSubjectChange:function(e){C(e)},handleActualDocumentType:function(e){I(e)},actualCourse:i,actualSubject:k,actualDocumentType:A,allCoursesStructure:D,handleSearch:J}),Object(d.jsx)(p,{assigments:n,isPedding:R})]}),Object(d.jsx)(j.a,{exact:!0,path:"/biblioteca-de-provas-e-materiais-site/contribute",children:Object(d.jsx)(x,{allCoursesStructure:D})})]})]}),!0===g&&Object(d.jsx)("div",{id:"sending-form-loader-container0",className:"sending-form-loader-container",style:{display:"flex",opacity:"1"},children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"loader-spinner"}),Object(d.jsx)("h2",{className:"loader-spinner-text",children:"Carregando ..."})]})})]})})};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.0b09c7c1.chunk.js.map